services:
  reverse-proxy:
    image: nginx:alpine
    container_name: reverse-proxy
    ports:
      - "80:80"
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf:ro
    depends_on:
      - my-test-app1_container
      - my-test-app2_container
      - my-test-app3_container

my-test-app1:
  image: btripp365/my-test-app1:${TAG:-latest}
  container_name: my-test-app1_container
  expose:
  - "80"

my-test-app2:
  image: btripp365/my-test-app2:${TAG:-latest}
  container_name: my-test-app2_container
  expose:
  - "80"

my-test-app3:
  image: btripp365/my-test-app3:${TAG:-latest}
  container_name: my-test-app3_container
  expose:
  - "80"

networks:
  default:
  name: my-test-projects-network